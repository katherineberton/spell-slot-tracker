{% extends 'base.html' %}

{% block title %}Spell slot tracker{% endblock %}

{% block head %}{% endblock %}

{% block first_header %}Your Characters:{% endblock %}

{% block body %}
<div class="container">
    <div class="row" id="characters-div">
    {% if char_list %}
        {% for char in char_list %}
            <div class="character-summary col bg-light" id="{{ char.character_id }}">
                <div class="row">
                {{ char.character_name }} | Class: {{ char.player_class.class_name }} | Level: {{ char.character_level }}
                </div>

                <div class="row">
                    <p>Cantrips known:</p>
                
                    {% for spell in spell_dict[char.character_id] %}
                        <div class="col">
                            {{ spell.spell_name }}
                            <form action="/delete-spell-known/{{ char.character_id }}">
                                <button name="spell_to_delete" type="submit" value="{{ spell.spell_slug }}">
                                    Delete
                                </button>
                            </form>
                        </div>  
                    {% endfor %}
                </ul>
                </div>

                <div class="row" id="actions-bar">
                    <p>Actions:</br>
                        <div class="col"><button><a href="/level-up/{{ char.character_id }}">Level up</a></button></div>
                        <div class="col"><button><a href="/update-character/{{ char.character_id }}">Update</a></button></div>
                        <div class="col"><button><a href="/add-spell-known/{{ char.character_id }}">Add a cantrip</a></button></div>
                        <div class="col"><button><a href="/play/{{ char.character_id }}">Get playing!</a></button></div>
                    </p>
                </div>

            </div>
        {% endfor %}
    </div>
    {% else %}
    You haven't created any characters yet! <a href="/create-a-character">Add one here.</a>

</div>
{% endif %}

{% endblock %}

{% block after_body %}{% endblock %}